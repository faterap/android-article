# Android O 后台限制

## 后台服务限制

### 前台应用

满足以下任意条件的应用被视为处于前台：

- 具有可见的 Activity
- 具有前台服务
- 另一个前台应用关联到该应用，如输入法、壁纸服务、语音服务等

如果以上条件均不满足，应用将被视为处于后台。

### 后台服务

应用在后台期间保留其后台服务的能力将受到限制。如果应用处于后台时调用了 `startService()` 将会抛出 `IllegalStateException`，除非：

- **应用已经处于前台，则可以调用 startService()，不会抛出 IllegalStateException**，但一旦进入后台，后台应用将被置于一个临时白名单中，位于白名单中时，应用可以无限制地启动服务，其后台服务也可以运行。但这个时间窗一过，应用进入空闲状态，后台服务就会被销毁（Nexus 5X 8.0 系统上测试不到1分钟）
- **启动前台服务**
- **绑定服务，即使应用处于后台也不受影响**

## 隐式广播限制

### 定义

应用无法在 `AndroidManifest.xml` 中声明隐式广播接收器，以获得绝大部分响应系统事件的后台能力。

